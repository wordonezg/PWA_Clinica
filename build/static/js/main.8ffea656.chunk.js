(this.webpackJsonpclinica=this.webpackJsonpclinica||[]).push([[0],{41:function(e,t,n){},64:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),i=n(5),o=n.n(i),r=(n(41),n(6)),s=n.n(r),l=n(13),d=n(20),h=n(8),b=n(14),u=n(15),j=n(17),p=n(16),f=(n(23),n(9)),m=n.n(f),O=n(7),x=n(21),v=n(22),C=(n.p,n(64),n(3)),g=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(C.jsx)("nav",{class:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(C.jsxs)("div",{class:"container-fluid",children:[Object(C.jsx)("a",{class:"navbar-brand",href:"index.html",children:"Clinica"}),Object(C.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(C.jsx)("span",{class:"navbar-toggler-icon"})}),Object(C.jsx)("div",{class:"collapse navbar-collapse",id:"navbarNav",children:Object(C.jsxs)("ul",{class:"navbar-nav",children:[Object(C.jsx)("li",{class:"nav-item",children:Object(C.jsx)("a",{class:"nav-link active","aria-current":"page",href:"index.html",children:"Citas"})}),Object(C.jsx)("li",{class:"nav-item",children:Object(C.jsx)("a",{class:"nav-link disabled",href:"#",tabindex:"-1","aria-disabled":"true",children:"Disabled"})})]})})]})})}}]),n}(a.Component),k=g,w="https://localhost:44342/api/Cita",y="https://localhost:44342/api/Cita",I="https://localhost:44342/api/Cita",N="https://localhost:44342/api/Cita",F=function(e){Object(j.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(b.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return(e=t.call.apply(t,[this].concat(c))).state={data:[],modalInsertar:!1,modalEliminar:!1,form:{CodigoCita:0,FechaHora:"",IdPaciente:0,Nombres:"",Apellidos:"",IdClinica:0,Clinica:"",FechaCita:""},tipoModal:""},e.modalEliminar=function(){e.setState({modalEliminar:!e.state.modalEliminar})},e.modalInsertar=function(){e.setState({modalInsertar:!e.state.modalInsertar})},e.seleccionarCita=function(t){e.setState({tipoModal:"actualizar",form:{CodigoCita:t.CodigoCita,FechaHora:t.FechaHora,IdPaciente:t.IdPaciente,IdClinica:t.IdClinica,FechaCita:t.FechaCita}})},e.peticionesGet=function(){m.a.get(w).then((function(t){e.setState({data:t.data})}))},e.handleChange=function(){var t=Object(h.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.persist(),t.next=3,e.setState({form:Object(d.a)(Object(d.a)({},e.state.form),{},Object(l.a)({},n.target.name,n.target.value))});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.peticionPost=Object(h.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return delete e.state.form.CodigoCita,t.next=3,m.a.post(y,e.state.form).then((function(t){e.modalInsertar(),e.peticionesGet()})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)}))),e.peticionPut=Object(h.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e.state.form),t.next=3,m.a.put(I+"/"+e.state.form.CodigoCita,e.state.form).then((function(t){e.modalInsertar(),e.peticionesGet()})).catch((function(e){console.log(e)}));case 3:case"end":return t.stop()}}),t)}))),e.peticionDelete=Object(h.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.delete(N+"/"+e.state.form.CodigoCita).then((function(t){e.modalEliminar(),e.peticionesGet()})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)}))),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.peticionesGet()}},{key:"render",value:function(){var e=this,t=this.state.form;return Object(C.jsxs)(c.a.Fragment,{children:[Object(C.jsx)(k,{}),Object(C.jsxs)("div",{className:"App m-5",children:[Object(C.jsx)("button",{type:"button",className:"btn btn-success",onClick:function(){e.setState({form:null,tipoModal:"insertar"}),e.modalInsertar()},children:"Crear Cita"}),Object(C.jsxs)("table",{className:"table",children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"C\xf3digo"}),Object(C.jsx)("th",{children:"Fecha Cita"}),Object(C.jsx)("th",{children:"Paciente"}),Object(C.jsx)("th",{children:"Clinica"}),Object(C.jsx)("th",{})]})}),Object(C.jsx)("tbody",{children:this.state.data.map((function(t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:t.CodigoCita}),Object(C.jsx)("td",{children:t.FechaCita}),Object(C.jsxs)("td",{children:[t.Nombres," ",t.Apellidos]}),Object(C.jsx)("td",{children:t.Clinica}),Object(C.jsxs)("td",{children:[Object(C.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){e.seleccionarCita(t),e.modalInsertar()},children:Object(C.jsx)(x.a,{icon:v.a})}),Object(C.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){e.seleccionarCita(t),e.modalEliminar()},children:Object(C.jsx)(x.a,{icon:v.b})})]})]})}))})]}),Object(C.jsxs)(O.a,{isOpen:this.state.modalInsertar,children:[Object(C.jsx)(O.d,{style:{display:"block"},children:Object(C.jsx)("span",{style:{float:"right"},children:"x"})}),Object(C.jsx)(O.b,{children:Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("label",{htmlFor:"id",children:"Codigo"}),Object(C.jsx)("input",{className:"form-control",type:"text",name:"CodigoCita",id:"CodigoCita",readOnly:!0,value:t?t.id_producto:this.state.data.length+1}),Object(C.jsx)("label",{htmlFor:"producto",children:"Fecha Cita"}),Object(C.jsx)("input",{className:"form-control",type:"date",name:"FechaCita",id:"FechaCita",onChange:this.handleChange,value:t?t.FechaCita:""}),Object(C.jsx)("label",{htmlFor:"marca",children:"Clinica"}),Object(C.jsxs)("select",{className:"form-control",name:"IdClinica",id:"IdClinica",onChange:this.handleChange,value:t?t.Clinica:0,children:[Object(C.jsx)("option",{value:"0",children:"-- Seleccione --"}),Object(C.jsx)("option",{value:"1",children:"Rafel"}),Object(C.jsx)("option",{value:"2",children:"Esperanza"}),Object(C.jsx)("option",{value:"3",children:"La bendicion"}),Object(C.jsx)("option",{value:"4",children:"Santa Cruz"}),Object(C.jsx)("option",{value:"5",children:"Cruz Verde"})]}),Object(C.jsx)("label",{htmlFor:"descripcion",children:"Paciente"}),Object(C.jsx)("input",{className:"form-control",type:"text",name:"IdPaciente",id:"IdPaciente",onChange:this.handleChange,value:t?t.descripcion:""})]})}),Object(C.jsxs)(O.c,{children:["insertar"==this.state.tipoModal?Object(C.jsx)("button",{className:"btn btn-success",onClick:function(){return e.peticionPost()},children:"Insertar"}):Object(C.jsx)("button",{className:"btn btn-primary",onClick:function(){return e.peticionPut()},children:"Actualizar"}),Object(C.jsx)("button",{type:"button",className:"btn btn-dark",onClick:function(){return e.modalInsertar()},children:"Cancelar"})]})]}),Object(C.jsxs)(O.a,{isOpen:this.state.modalEliminar,children:[Object(C.jsxs)(O.b,{children:["\xbfSeguro que desea eliminar la cita ",t&&t.cita," ?"]}),Object(C.jsxs)(O.c,{children:[Object(C.jsx)("button",{type:"button",className:"btn btn-danger",onClick:function(){e.peticionDelete()},children:"S\xed"}),Object(C.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){e.modalEliminar()},children:"No"})]})]})]})]})}}]),n}(a.Component),S=F,P=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function E(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),i(e),o(e)}))};o.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(S,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");P?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):E(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):E(t,e)}))}}(),A()}},[[66,1,2]]]);
//# sourceMappingURL=main.8ffea656.chunk.js.map